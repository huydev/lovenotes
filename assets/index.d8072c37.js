var w=Object.defineProperty;var p=(e,t,i)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var s=(e,t,i)=>(p(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const m=document.querySelector("#days"),v=new Date(2014,5,23),M=new Date,E=M.getTime()-v.getTime(),L=Math.floor(E/1e3/60/60/24);m&&(m.innerHTML=String(L));const x=document.querySelector("#app"),c=document.querySelector(".audiobtn"),l=document.querySelector("#audio");let f=!1,a,h,d;document.addEventListener("colorChange",e=>{const t=e.detail.value;x.style.backgroundColor=t});function C(e,t,i){const o=function(){i(),e.removeEventListener(t,o)};e.addEventListener(t,o)}C(document,"click",()=>{f||g(),l.paused&&(c==null||c.classList.add("animate"),l.play())});c==null||c.addEventListener("click",e=>{e.stopPropagation(),f||g(),l.paused?(c.classList.add("animate"),l.play()):(c.classList.remove("animate"),l.pause())});class q{constructor(t,i,o,n){s(this,"color");s(this,"x");s(this,"y");s(this,"duration",2);s(this,"diameter",0);s(this,"endDiameter");s(this,"p5");s(this,"moving",!0);s(this,"rate",60);s(this,"progress",0);this.color=o,this.x=t,this.y=i,this.endDiameter=this.calcEnd(),this.p5=n}calcEnd(){const t=Math.ceil(Math.sqrt(this.x**2+this.y**2)),i=Math.ceil(Math.sqrt((window.innerWidth-this.x)**2+this.y**2)),o=Math.ceil(Math.sqrt(this.x**2+(window.innerHeight-this.y)**2)),n=Math.ceil(Math.sqrt((window.innerWidth-this.x)**2+(window.innerHeight-this.y)**2));return Math.max(t*2,i*2,o*2,n*2)}render(){this.p5.noStroke(),this.p5.fill(this.color),this.p5.ellipse(this.x,this.y,this.diameter,this.diameter)}zoom(){if(this.diameter>=this.endDiameter){this.moving=!1;const t=new CustomEvent("colorChange",{detail:{value:this.color}});document.dispatchEvent(t)}if(this.moving){const t=this.progress/(this.duration*this.rate);this.diameter=b(t)*this.endDiameter,this.progress+=1}}}const y=[],S=e=>{e.setup=function(){e.createCanvas(e.windowWidth,e.windowHeight),e.frameRate(60)},e.mouseClicked=function(){const t=e.mouseX,i=e.mouseY,o=`hsl(${Math.round(Math.random()*255)}, 46%, 42%)`;y.push(new q(t,i,o,e))},e.windowResized=function(){e.resizeCanvas(e.windowWidth,e.windowHeight)},e.draw=function(){if(e.clear(),y.filter(t=>t.moving).forEach(t=>{t.render(),t.zoom()}),a){a.getByteFrequencyData(h),e.noStroke(),e.fill("rgba(255, 255, 255, 0.2)");const t=e.width/d*2.5;let i=0;for(let o=0;o<d;o++){const n=h[o];e.rect(i,e.height-n/2,t,n/2),i+=t+1}}}};new p5(S,"paint");function g(){f=!0;const e=new AudioContext;a=e.createAnalyser(),a.fftSize=256,e.createMediaElementSource(l).connect(a),a.connect(e.destination),d=a.frequencyBinCount,h=new Uint8Array(d)}function b(e){return 1-Math.pow(1-e,3)}
